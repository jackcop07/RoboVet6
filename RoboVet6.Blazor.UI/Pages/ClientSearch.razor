@page "/client"

<AuthorizeView>
    <Authorized>
        <div class="container">
            <h1 class="page-title">All clients</h1>
        </div>
        <br />


        @if (Clients == null || !Clients.Any())
        {
            <h3>Loading clients</h3>

        }
        else
        {
            <BSContainer>
                <BSCard CardType="CardType.Deck">
                    @foreach (var client in Clients)
                    {
                        <BSCol SM="12" Class="ClientCard">
                            <BSCard>
                                <BSCard CardType="CardType.Header">@client.Title @client.FirstName @client.LastName</BSCard>
                                <BSCard CardType="CardType.Body">
                                    <BSCard CardType="CardType.Text">@client.Address, @client.City, @client.Postcode</BSCard>
                                    <BSCard CardType="CardType.Text">Email: @client.Email, Mobile: @client.MobilePhone</BSCard>
                                    <BSCard CardType="CardType.Text">Animals: 
                                        <select class="form-control" aria-label="Default select example">
                                            @foreach (var animal in client.Animals)
                                            {
                                                <option value=@animal.Id>@animal.Name</option>
                                            }
                                        </select>
                                    </BSCard>
                                    <BSCard CardType="CardType.Footer">
                                        <button type="button" class="btn btn-primary float-right"><i class="far fa-hand-pointer" style="font-size: 2rem;"></i></button>
                                        

                                        <a href="@($"clientdetail/{client.Id}")" class="btn btn-primary">
                                            <i class="fas fa-user" style="font-size: 2rem;"></i>
                                        </a>

                                        <button type="button" class="btn btn-primary"><i class="fas fa-paw" style="font-size: 2rem;"></i></button>
                                    </BSCard>
                                </BSCard>
                            </BSCard>
                        </BSCol>
                    }
                </BSCard>
            </BSContainer>
        }
    </Authorized>
    <NotAuthorized>
        <p>You need to be logged in to view clients!</p>
    </NotAuthorized>
</AuthorizeView>
